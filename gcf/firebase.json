{
  "firebase": "<APP_ID>",
  "rules": "security-rules.json",
  "public": "./",
  "ignore": [
    "firebase.json",
    "**/.*",
    "**/node_modules/**",
    "functions"
  ],
  "functions": {
    // Directory must contain a function.js file that exports the Google Cloud Functions
    ".source": "functions",
    // Must match a module export in your Node.js code
    "makeuppercase": {
      "triggers": {
        "database": {
          "path": "/messages/$message",
          "condition": "!data.exists()" // Only run the GCF once on new messages
        }
      }
    }
  }
}
